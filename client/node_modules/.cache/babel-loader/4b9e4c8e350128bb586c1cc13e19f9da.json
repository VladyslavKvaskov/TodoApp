{"ast":null,"code":"var _jsxFileName = \"/home/cmdb-123845/Desktop/TodoApp/client/src/App.js\",\n    _s = $RefreshSig$();\n\n// import logo from './logo.svg';\nimport './App.css';\nimport * as mui from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport * as animation from '../node_modules/react-animations';\nimport Radium, { StyleRoot } from 'radium';\nimport IsoTopeGrid from 'react-isotope';\nimport * as icon from '@mui/icons-material';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { GET_ALL_USERS } from './queries/user';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { ADD_USER, DELETE_USER } from './mutations/user';\nimport { ADD_TODO, DELETE_TODO, DO_TODO, UNDO_TODO, SET_TEXT_TODO } from './mutations/todo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst forbiddenSymbolsNumeric = ['KeyE', 'Period', 'Minus', 'Equal'];\nconst styles = {\n  fadeIn: {\n    animation: 'x 1s',\n    animationName: Radium.keyframes(animation.fadeIn, 'fadeIn')\n  }\n};\n\nconst App = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [age, setAge] = useState('');\n  const [users, setUsers] = useState([]);\n  const {\n    data,\n    loading,\n    error,\n    refetch\n  } = useQuery(GET_ALL_USERS);\n  const [addUser] = useMutation(ADD_USER);\n  const [deleteUser] = useMutation(DELETE_USER);\n  const [addTodo] = useMutation(ADD_TODO);\n  const [deleteTodo] = useMutation(DELETE_TODO);\n  const [doTodo] = useMutation(DO_TODO);\n  const [undoTodo] = useMutation(UNDO_TODO);\n  const [setTextTodo] = useMutation(SET_TEXT_TODO);\n  const [disabled, setDisabled] = useState(false);\n  const [renderUsers, setRenderUsers] = useState(false);\n  const [errLoad, setErrLoad] = useState('');\n  const [refreshDisabled, setRefreshDisabled] = useState(false);\n  const [actionError, setActionError] = useState('');\n  const [open, setOpen] = useState(false);\n  const [nameInput, setNameInput] = useState(null);\n  const [inputTimeout, setInputTimeout] = useState();\n  const [settingText, setSettingText] = useState(false);\n  useEffect(() => {\n    if (!loading) {\n      setErrLoad('');\n      setUsers(data.users);\n      setRenderUsers(true);\n    }\n  }, [data]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (error) {\n      setErrLoad(error.message);\n    }\n  }, [error]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const onAddTodo = (e, userId) => {\n    e.preventDefault();\n    setDisabled(true);\n    addTodo({\n      variables: {\n        todo: {\n          text: '',\n          userId\n        }\n      }\n    }).then(_ref => {\n      let {\n        data\n      } = _ref;\n      refetch().catch(err => {\n        setActionError(err.message);\n        setOpen(true);\n        setDisabled(false);\n      }).finally(() => {\n        setDisabled(false);\n      }); // setUsers(\n      //     Array.from(users).map((user) => {\n      //         if (user.id === userId) {\n      //             const todos = Array.from(user.todos);\n      //             todos.push(data.addTodo);\n      //             return { ...user, ...{ todos: todos } };\n      //         } else {\n      //             return user;\n      //         }\n      //     })\n      // );\n    }).catch(err => {\n      setActionError(err.message);\n      setOpen(true);\n      setDisabled(false);\n    }); // .finally(() => {\n    //     setDisabled(false);\n    // });\n  };\n\n  const onDeleteTodo = (e, todoId) => {\n    e.preventDefault();\n    setDisabled(true);\n    deleteTodo({\n      variables: {\n        id: todoId\n      }\n    }).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      refetch().catch(err => {\n        setActionError(err.message);\n        setOpen(true);\n        setDisabled(false);\n      }).finally(() => {\n        setDisabled(false);\n      }); // setUsers(Array.from(users).map((user) => ({ ...user, ...{ todos: Array.from(user.todos).filter((todo) => todo.id !== data.deleteTodo.id) } })));\n    }).catch(err => {\n      setActionError(err.message);\n      setOpen(true);\n    }); // .finally(() => {\n    //     setDisabled(false);\n    // });\n  };\n\n  const onDoUndoTodo = (e, t) => {\n    e.preventDefault();\n    setDisabled(true);\n\n    if (t.done) {\n      undoTodo({\n        variables: {\n          id: t.id\n        }\n      }).then(_ref3 => {\n        let {\n          data\n        } = _ref3;\n        refetch().catch(err => {\n          setActionError(err.message);\n          setOpen(true);\n          setDisabled(false);\n        }).finally(() => {\n          setDisabled(false);\n        }); // setUsers(\n        //     Array.from(users).map((user) => {\n        //         const todos = Array.from(user.todos).map((todo) => {\n        //             if (todo.id === t.id) {\n        //                 return { ...todo, ...{ done: false } };\n        //             }\n        //             return todo;\n        //         });\n        //         return { ...user, ...{ todos } };\n        //     })\n        // );\n      }).catch(err => {\n        setActionError(err.message);\n        setOpen(true);\n      }); // .finally(() => {\n      //     setDisabled(false);\n      // });\n    } else {\n      doTodo({\n        variables: {\n          id: t.id\n        }\n      }).then(_ref4 => {\n        let {\n          data\n        } = _ref4;\n        refetch().catch(err => {\n          setActionError(err.message);\n          setOpen(true);\n          setDisabled(false);\n        }).finally(() => {\n          setDisabled(false);\n        }); // setUsers(\n        //     Array.from(users).map((user) => {\n        //         const todos = Array.from(user.todos).map((todo) => {\n        //             if (todo.id === t.id) {\n        //                 return { ...todo, ...{ done: true } };\n        //             }\n        //             return todo;\n        //         });\n        //         return { ...user, ...{ todos } };\n        //     })\n        // );\n      }).catch(err => {\n        setActionError(err.message);\n        setOpen(true);\n      }); // .finally(() => {\n      //     setDisabled(false);\n      // });\n    }\n  };\n\n  const onSetTextTodo = (e, t) => {\n    clearTimeout(inputTimeout);\n    setUsers(Array.from(users).map(user => {\n      const todos = Array.from(user.todos).map(todo => {\n        if (todo.id === t.id) {\n          return { ...todo,\n            ...{\n              text: e.target.value\n            }\n          };\n        }\n\n        return todo;\n      });\n      return { ...user,\n        ...{\n          todos\n        }\n      };\n    }));\n\n    if (!settingText) {\n      setInputTimeout(setTimeout(() => {\n        setSettingText(true);\n        setTextTodo({\n          variables: {\n            id: t.id,\n            text: e.target.value\n          }\n        }).then(_ref5 => {\n          let {\n            data\n          } = _ref5;\n        }).catch(err => {\n          setActionError(err.message);\n          setOpen(true);\n        }).finally(() => {\n          setSettingText(false);\n          setDisabled(false);\n        });\n      }, 300));\n    }\n  };\n\n  const onAddUser = e => {\n    e.preventDefault();\n    setDisabled(true);\n    addUser({\n      variables: {\n        user: {\n          username,\n          age: parseInt(age)\n        }\n      }\n    }).then(_ref6 => {\n      let {\n        data\n      } = _ref6;\n      refetch().catch(err => {\n        setActionError(err.message);\n        setOpen(true);\n        setDisabled(false);\n      }).finally(() => {\n        setDisabled(false);\n      }); // setUsername('');\n      // setAge('');\n      // const allUsers = Array.from(users);\n      // allUsers.unshift(data.addUser);\n      // setUsers(allUsers);\n      // nameInput.focus();\n    }).catch(err => {\n      setActionError(err.message);\n      setOpen(true);\n    }); // .finally(() => {\n    //     setDisabled(false);\n    // });\n  };\n\n  const onDeleteUser = (e, userId) => {\n    e.preventDefault();\n    setDisabled(true);\n    deleteUser({\n      variables: {\n        id: userId\n      }\n    }).then(_ref7 => {\n      let {\n        data\n      } = _ref7;\n      setUsers(Array.from(users).filter(user => user.id !== data.deleteUser.id));\n    }).catch(err => {\n      setActionError(err.message);\n      setOpen(true);\n    }).finally(() => {\n      setDisabled(false);\n    });\n  };\n\n  const onChange = e => {\n    if (e.target.name === 'age') {\n      setAge((() => {\n        if (e.target.value > 150) {\n          return 150;\n        } else if (e.target.value < 0) {\n          return 0;\n        } else {\n          return (value => {\n            const arr = value.split('');\n\n            for (let i = 0; i < arr.length; i++) {\n              if ((isNaN(arr[i - 1]) || arr[i - 1] === '0') && arr[i] === '0' && !isNaN(arr[i + 1])) {\n                arr.splice(i, 1);\n              }\n            }\n\n            return arr.join('');\n          })(e.target.value);\n        }\n      })());\n    } else if (e.target.name === 'username') {\n      setUsername(e.target.value);\n    }\n  };\n\n  const onKeyDown = e => {\n    if (e.target.tagName === 'INPUT' && e.target.type === 'number' && forbiddenSymbolsNumeric.includes(e.code)) {\n      e.preventDefault();\n    }\n  };\n\n  const reload = e => {\n    e.preventDefault();\n    setRefreshDisabled(true);\n    refetch().catch(err => {}).finally(() => {\n      setRefreshDisabled(false);\n    });\n  };\n\n  const toastClose = e => {\n    setOpen(false);\n  };\n\n  const usersToRender = users.map(user => ({ ...user,\n    ...{\n      filter: ['all']\n    }\n  }));\n  return /*#__PURE__*/_jsxDEV(StyleRoot, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center flex-wrap align-items-center\",\n      children: !errLoad ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: 500,\n            minWidth: 300,\n            width: '100%',\n            ...styles.fadeIn\n          },\n          children: /*#__PURE__*/_jsxDEV(mui.Box, {\n            onSubmit: onAddUser,\n            component: \"form\",\n            sx: {\n              width: '100%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexWrap: 'wrap',\n              '& .MuiTextField-root': {\n                m: 1,\n                width: '25ch'\n              }\n            },\n            noValidate: true,\n            autoComplete: \"off\",\n            children: [/*#__PURE__*/_jsxDEV(mui.TextField, {\n              inputRef: input => {\n                setNameInput(input);\n              },\n              name: \"username\",\n              label: \"Name\",\n              variant: \"filled\",\n              onInput: onChange,\n              onChange: onChange,\n              value: username,\n              className: \"form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(mui.TextField, {\n              className: \"form-input\",\n              name: \"age\",\n              onKeyDown: onKeyDown,\n              label: \"Age\",\n              variant: \"filled\",\n              type: \"number\",\n              onInput: onChange,\n              onChange: onChange,\n              value: age\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(mui.Button, {\n              style: {\n                width: '100%',\n                margin: 8\n              },\n              \"aria-label\": \"add user\",\n              disabled: username.length === 0 || age.length === 0 || disabled,\n              type: \"submit\",\n              variant: \"contained\",\n              endIcon: /*#__PURE__*/_jsxDEV(icon.Add, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 212\n              }, this),\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(mui.Snackbar, {\n              open: open,\n              autoHideDuration: 6000,\n              onClose: toastClose,\n              children: /*#__PURE__*/_jsxDEV(mui.Alert, {\n                onClose: toastClose,\n                severity: \"error\",\n                sx: {\n                  width: '100%'\n                },\n                children: actionError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center flex-wrap align-items-start\",\n          style: {\n            width: '100%'\n          },\n          children: !loading && renderUsers ? users.length > 0 ? usersToRender.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: user.filter[0] + ' user-card',\n            style: {\n              width: 300\n            },\n            children: /*#__PURE__*/_jsxDEV(mui.Paper, {\n              elevation: 4,\n              children: /*#__PURE__*/_jsxDEV(mui.CardContent, {\n                style: {\n                  position: 'relative',\n                  padding: 16\n                },\n                children: [/*#__PURE__*/_jsxDEV(mui.IconButton, {\n                  disabled: disabled,\n                  onClick: e => {\n                    onDeleteUser(e, user.id);\n                  },\n                  \"aria-label\": \"delete user\",\n                  color: \"error\",\n                  style: {\n                    position: 'absolute',\n                    right: 0,\n                    top: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(icon.Delete, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(mui.Typography, {\n                  className: \"d-flex align-items-end mt-4\",\n                  variant: \"h5\",\n                  component: \"div\",\n                  children: [\"Name: \", user.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(mui.Typography, {\n                  sx: {\n                    fontSize: 14\n                  },\n                  color: \"text.secondary\",\n                  gutterBottom: true,\n                  children: [\"age: \", user.age]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(mui.Typography, {\n                  sx: {\n                    mt: 4,\n                    mb: 0\n                  },\n                  variant: \"h6\",\n                  component: \"div\",\n                  children: [\"Todos\", /*#__PURE__*/_jsxDEV(mui.IconButton, {\n                    onClick: e => {\n                      onAddTodo(e, user.id);\n                    },\n                    \"aria-label\": \"add todo\",\n                    disabled: disabled,\n                    color: \"success\",\n                    children: /*#__PURE__*/_jsxDEV(icon.Add, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 53\n                }, this), user.todos.length > 0 ? /*#__PURE__*/_jsxDEV(mui.List, {\n                  className: \"mb-4\",\n                  children: Array.from(user.todos).reverse().map(todo => /*#__PURE__*/_jsxDEV(mui.ListItem, {\n                    className: \"px-3\",\n                    secondaryAction: /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: /*#__PURE__*/_jsxDEV(mui.IconButton, {\n                        onClick: e => {\n                          onDeleteTodo(e, todo.id);\n                        },\n                        disabled: disabled,\n                        edge: \"end\",\n                        \"aria-label\": \"delete todo\",\n                        children: /*#__PURE__*/_jsxDEV(icon.Delete, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 456,\n                          columnNumber: 85\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 448,\n                        columnNumber: 81\n                      }, this)\n                    }, void 0, false),\n                    disablePadding: true,\n                    children: [/*#__PURE__*/_jsxDEV(mui.ListItemIcon, {\n                      style: {\n                        minWidth: 'unset'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(mui.Checkbox, {\n                        edge: \"start\",\n                        disabled: disabled,\n                        onChange: e => {\n                          onDoUndoTodo(e, todo);\n                        },\n                        checked: todo.done,\n                        tabIndex: -1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 463,\n                        columnNumber: 77\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 73\n                    }, this), /*#__PURE__*/_jsxDEV(mui.TextField, {\n                      multiline: true,\n                      className: \"todo-text\",\n                      onChange: e => {\n                        onSetTextTodo(e, todo);\n                      },\n                      style: {\n                        width: 'calc(100% - 86px)'\n                      },\n                      variant: \"standard\",\n                      value: todo.text,\n                      label: \"todo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 73\n                    }, this)]\n                  }, todo.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 69\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 57\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-5 mt-3\",\n                  children: \"No todos yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 45\n            }, this)\n          }, user.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 41\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center\",\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(mui.CardContent, {\n              style: {\n                padding: 16\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No users yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center\",\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(mui.CardContent, {\n              style: {\n                padding: 16\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-border\",\n                role: \"status\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"visually-hidden\",\n                  children: \"Loading...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(mui.Alert, {\n        severity: \"error\",\n        action: /*#__PURE__*/_jsxDEV(mui.Button, {\n          disabled: refreshDisabled,\n          onClick: reload,\n          color: \"inherit\",\n          size: \"small\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 29\n        }, this),\n        children: errLoad\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 357,\n    columnNumber: 9\n  }, this);\n};\n\n_s(App, \"eU2X/QSrrH2Nwv2cLOHRMkw3BDY=\", false, function () {\n  return [useQuery, useMutation, useMutation, useMutation, useMutation, useMutation, useMutation, useMutation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/cmdb-123845/Desktop/TodoApp/client/src/App.js"],"names":["mui","React","useEffect","useState","animation","Radium","StyleRoot","IsoTopeGrid","icon","useMutation","useQuery","GET_ALL_USERS","ADD_USER","DELETE_USER","ADD_TODO","DELETE_TODO","DO_TODO","UNDO_TODO","SET_TEXT_TODO","forbiddenSymbolsNumeric","styles","fadeIn","animationName","keyframes","App","username","setUsername","age","setAge","users","setUsers","data","loading","error","refetch","addUser","deleteUser","addTodo","deleteTodo","doTodo","undoTodo","setTextTodo","disabled","setDisabled","renderUsers","setRenderUsers","errLoad","setErrLoad","refreshDisabled","setRefreshDisabled","actionError","setActionError","open","setOpen","nameInput","setNameInput","inputTimeout","setInputTimeout","settingText","setSettingText","message","onAddTodo","e","userId","preventDefault","variables","todo","text","then","catch","err","finally","onDeleteTodo","todoId","id","onDoUndoTodo","t","done","onSetTextTodo","clearTimeout","Array","from","map","user","todos","target","value","setTimeout","onAddUser","parseInt","onDeleteUser","filter","onChange","name","arr","split","i","length","isNaN","splice","join","onKeyDown","tagName","type","includes","code","reload","toastClose","usersToRender","maxWidth","minWidth","width","display","alignItems","justifyContent","flexWrap","m","input","margin","position","padding","right","top","fontSize","mt","mb","reverse"],"mappings":"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","sourcesContent":["// import logo from './logo.svg';\nimport './App.css';\nimport * as mui from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport * as animation from '../node_modules/react-animations';\nimport Radium, { StyleRoot } from 'radium';\nimport IsoTopeGrid from 'react-isotope';\nimport * as icon from '@mui/icons-material';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { GET_ALL_USERS } from './queries/user';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { ADD_USER, DELETE_USER } from './mutations/user';\nimport { ADD_TODO, DELETE_TODO, DO_TODO, UNDO_TODO, SET_TEXT_TODO } from './mutations/todo';\n\nconst forbiddenSymbolsNumeric = ['KeyE', 'Period', 'Minus', 'Equal'];\n\nconst styles = {\n    fadeIn: {\n        animation: 'x 1s',\n        animationName: Radium.keyframes(animation.fadeIn, 'fadeIn'),\n    },\n};\n\nconst App = () => {\n    const [username, setUsername] = useState('');\n    const [age, setAge] = useState('');\n    const [users, setUsers] = useState([]);\n\n    const { data, loading, error, refetch } = useQuery(GET_ALL_USERS);\n    const [addUser] = useMutation(ADD_USER);\n    const [deleteUser] = useMutation(DELETE_USER);\n    const [addTodo] = useMutation(ADD_TODO);\n    const [deleteTodo] = useMutation(DELETE_TODO);\n    const [doTodo] = useMutation(DO_TODO);\n    const [undoTodo] = useMutation(UNDO_TODO);\n    const [setTextTodo] = useMutation(SET_TEXT_TODO);\n\n    const [disabled, setDisabled] = useState(false);\n    const [renderUsers, setRenderUsers] = useState(false);\n    const [errLoad, setErrLoad] = useState('');\n    const [refreshDisabled, setRefreshDisabled] = useState(false);\n    const [actionError, setActionError] = useState('');\n    const [open, setOpen] = useState(false);\n    const [nameInput, setNameInput] = useState(null);\n    const [inputTimeout, setInputTimeout] = useState();\n    const [settingText, setSettingText] = useState(false);\n\n    useEffect(() => {\n        if (!loading) {\n            setErrLoad('');\n            setUsers(data.users);\n            setRenderUsers(true);\n        }\n    }, [data]); // eslint-disable-line react-hooks/exhaustive-deps\n    useEffect(() => {\n        if (error) {\n            setErrLoad(error.message);\n        }\n    }, [error]); // eslint-disable-line react-hooks/exhaustive-deps\n    const onAddTodo = (e, userId) => {\n        e.preventDefault();\n        setDisabled(true);\n        addTodo({\n            variables: {\n                todo: {\n                    text: '',\n                    userId,\n                },\n            },\n        })\n            .then(({ data }) => {\n                refetch()\n                    .catch((err) => {\n                        setActionError(err.message);\n                        setOpen(true);\n                        setDisabled(false);\n                    })\n                    .finally(() => {\n                        setDisabled(false);\n                    });\n                // setUsers(\n                //     Array.from(users).map((user) => {\n                //         if (user.id === userId) {\n                //             const todos = Array.from(user.todos);\n                //             todos.push(data.addTodo);\n                //             return { ...user, ...{ todos: todos } };\n                //         } else {\n                //             return user;\n                //         }\n                //     })\n                // );\n            })\n            .catch((err) => {\n                setActionError(err.message);\n                setOpen(true);\n                setDisabled(false);\n            });\n        // .finally(() => {\n        //     setDisabled(false);\n        // });\n    };\n\n    const onDeleteTodo = (e, todoId) => {\n        e.preventDefault();\n        setDisabled(true);\n        deleteTodo({\n            variables: {\n                id: todoId,\n            },\n        })\n            .then(({ data }) => {\n                refetch()\n                    .catch((err) => {\n                        setActionError(err.message);\n                        setOpen(true);\n                        setDisabled(false);\n                    })\n                    .finally(() => {\n                        setDisabled(false);\n                    });\n                // setUsers(Array.from(users).map((user) => ({ ...user, ...{ todos: Array.from(user.todos).filter((todo) => todo.id !== data.deleteTodo.id) } })));\n            })\n            .catch((err) => {\n                setActionError(err.message);\n                setOpen(true);\n            });\n        // .finally(() => {\n        //     setDisabled(false);\n        // });\n    };\n\n    const onDoUndoTodo = (e, t) => {\n        e.preventDefault();\n        setDisabled(true);\n\n        if (t.done) {\n            undoTodo({\n                variables: {\n                    id: t.id,\n                },\n            })\n                .then(({ data }) => {\n                    refetch()\n                        .catch((err) => {\n                            setActionError(err.message);\n                            setOpen(true);\n                            setDisabled(false);\n                        })\n                        .finally(() => {\n                            setDisabled(false);\n                        });\n                    // setUsers(\n                    //     Array.from(users).map((user) => {\n                    //         const todos = Array.from(user.todos).map((todo) => {\n                    //             if (todo.id === t.id) {\n                    //                 return { ...todo, ...{ done: false } };\n                    //             }\n\n                    //             return todo;\n                    //         });\n\n                    //         return { ...user, ...{ todos } };\n                    //     })\n                    // );\n                })\n                .catch((err) => {\n                    setActionError(err.message);\n                    setOpen(true);\n                });\n            // .finally(() => {\n            //     setDisabled(false);\n            // });\n        } else {\n            doTodo({\n                variables: {\n                    id: t.id,\n                },\n            })\n                .then(({ data }) => {\n                    refetch()\n                        .catch((err) => {\n                            setActionError(err.message);\n                            setOpen(true);\n                            setDisabled(false);\n                        })\n                        .finally(() => {\n                            setDisabled(false);\n                        });\n                    // setUsers(\n                    //     Array.from(users).map((user) => {\n                    //         const todos = Array.from(user.todos).map((todo) => {\n                    //             if (todo.id === t.id) {\n                    //                 return { ...todo, ...{ done: true } };\n                    //             }\n\n                    //             return todo;\n                    //         });\n\n                    //         return { ...user, ...{ todos } };\n                    //     })\n                    // );\n                })\n                .catch((err) => {\n                    setActionError(err.message);\n                    setOpen(true);\n                });\n            // .finally(() => {\n            //     setDisabled(false);\n            // });\n        }\n    };\n\n    const onSetTextTodo = (e, t) => {\n        clearTimeout(inputTimeout);\n        setUsers(\n            Array.from(users).map((user) => {\n                const todos = Array.from(user.todos).map((todo) => {\n                    if (todo.id === t.id) {\n                        return { ...todo, ...{ text: e.target.value } };\n                    }\n\n                    return todo;\n                });\n\n                return { ...user, ...{ todos } };\n            })\n        );\n\n        if (!settingText) {\n            setInputTimeout(\n                setTimeout(() => {\n                    setSettingText(true);\n                    setTextTodo({\n                        variables: {\n                            id: t.id,\n                            text: e.target.value,\n                        },\n                    })\n                        .then(({ data }) => {})\n                        .catch((err) => {\n                            setActionError(err.message);\n                            setOpen(true);\n                        })\n                        .finally(() => {\n                            setSettingText(false);\n                            setDisabled(false);\n                        });\n                }, 300)\n            );\n        }\n    };\n\n    const onAddUser = (e) => {\n        e.preventDefault();\n        setDisabled(true);\n        addUser({\n            variables: {\n                user: {\n                    username,\n                    age: parseInt(age),\n                },\n            },\n        })\n            .then(({ data }) => {\n                refetch()\n                    .catch((err) => {\n                        setActionError(err.message);\n                        setOpen(true);\n                        setDisabled(false);\n                    })\n                    .finally(() => {\n                        setDisabled(false);\n                    });\n                // setUsername('');\n                // setAge('');\n                // const allUsers = Array.from(users);\n                // allUsers.unshift(data.addUser);\n                // setUsers(allUsers);\n                // nameInput.focus();\n            })\n            .catch((err) => {\n                setActionError(err.message);\n                setOpen(true);\n            });\n        // .finally(() => {\n        //     setDisabled(false);\n        // });\n    };\n\n    const onDeleteUser = (e, userId) => {\n        e.preventDefault();\n        setDisabled(true);\n        deleteUser({\n            variables: {\n                id: userId,\n            },\n        })\n            .then(({ data }) => {\n                setUsers(Array.from(users).filter((user) => user.id !== data.deleteUser.id));\n            })\n            .catch((err) => {\n                setActionError(err.message);\n                setOpen(true);\n            })\n            .finally(() => {\n                setDisabled(false);\n            });\n    };\n\n    const onChange = (e) => {\n        if (e.target.name === 'age') {\n            setAge(\n                (() => {\n                    if (e.target.value > 150) {\n                        return 150;\n                    } else if (e.target.value < 0) {\n                        return 0;\n                    } else {\n                        return ((value) => {\n                            const arr = value.split('');\n                            for (let i = 0; i < arr.length; i++) {\n                                if ((isNaN(arr[i - 1]) || arr[i - 1] === '0') && arr[i] === '0' && !isNaN(arr[i + 1])) {\n                                    arr.splice(i, 1);\n                                }\n                            }\n\n                            return arr.join('');\n                        })(e.target.value);\n                    }\n                })()\n            );\n        } else if (e.target.name === 'username') {\n            setUsername(e.target.value);\n        }\n    };\n    const onKeyDown = (e) => {\n        if (e.target.tagName === 'INPUT' && e.target.type === 'number' && forbiddenSymbolsNumeric.includes(e.code)) {\n            e.preventDefault();\n        }\n    };\n\n    const reload = (e) => {\n        e.preventDefault();\n        setRefreshDisabled(true);\n        refetch()\n            .catch((err) => {})\n            .finally(() => {\n                setRefreshDisabled(false);\n            });\n    };\n\n    const toastClose = (e) => {\n        setOpen(false);\n    };\n    const usersToRender = users.map((user) => ({ ...user, ...{ filter: ['all'] } }));\n    return (\n        <StyleRoot>\n            <div className=\"d-flex justify-content-center flex-wrap align-items-center\">\n                {!errLoad ? (\n                    <>\n                        <div style={{ maxWidth: 500, minWidth: 300, width: '100%', ...styles.fadeIn }}>\n                            <mui.Box\n                                onSubmit={onAddUser}\n                                component=\"form\"\n                                sx={{\n                                    width: '100%',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    flexWrap: 'wrap',\n                                    '& .MuiTextField-root': { m: 1, width: '25ch' },\n                                }}\n                                noValidate\n                                autoComplete=\"off\"\n                            >\n                                <mui.TextField\n                                    inputRef={(input) => {\n                                        setNameInput(input);\n                                    }}\n                                    name=\"username\"\n                                    label=\"Name\"\n                                    variant=\"filled\"\n                                    onInput={onChange}\n                                    onChange={onChange}\n                                    value={username}\n                                    className=\"form-input\"\n                                />\n                                <mui.TextField className=\"form-input\" name=\"age\" onKeyDown={onKeyDown} label=\"Age\" variant=\"filled\" type=\"number\" onInput={onChange} onChange={onChange} value={age} />\n\n                                <mui.Button style={{ width: '100%', margin: 8 }} aria-label=\"add user\" disabled={username.length === 0 || age.length === 0 || disabled} type=\"submit\" variant=\"contained\" endIcon={<icon.Add />}>\n                                    Add\n                                </mui.Button>\n                                <mui.Snackbar open={open} autoHideDuration={6000} onClose={toastClose}>\n                                    <mui.Alert onClose={toastClose} severity=\"error\" sx={{ width: '100%' }}>\n                                        {actionError}\n                                    </mui.Alert>\n                                </mui.Snackbar>\n                            </mui.Box>\n                        </div>\n                        <div className=\"d-flex justify-content-center flex-wrap align-items-start\" style={{ width: '100%' }}>\n                            {!loading && renderUsers ? (\n                                users.length > 0 ? (\n                                    usersToRender.map((user) => (\n                                        <div key={user.id} className={user.filter[0] + ' user-card'} style={{ width: 300 }}>\n                                            <mui.Paper elevation={4}>\n                                                <mui.CardContent style={{ position: 'relative', padding: 16 }}>\n                                                    <mui.IconButton\n                                                        disabled={disabled}\n                                                        onClick={(e) => {\n                                                            onDeleteUser(e, user.id);\n                                                        }}\n                                                        aria-label=\"delete user\"\n                                                        color=\"error\"\n                                                        style={{ position: 'absolute', right: 0, top: 0 }}\n                                                    >\n                                                        <icon.Delete />\n                                                    </mui.IconButton>\n                                                    <mui.Typography className=\"d-flex align-items-end mt-4\" variant=\"h5\" component=\"div\">\n                                                        Name: {user.username}\n                                                    </mui.Typography>\n                                                    <mui.Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                                                        age: {user.age}\n                                                    </mui.Typography>\n\n                                                    <mui.Typography sx={{ mt: 4, mb: 0 }} variant=\"h6\" component=\"div\">\n                                                        Todos\n                                                        <mui.IconButton\n                                                            onClick={(e) => {\n                                                                onAddTodo(e, user.id);\n                                                            }}\n                                                            aria-label=\"add todo\"\n                                                            disabled={disabled}\n                                                            color=\"success\"\n                                                        >\n                                                            <icon.Add></icon.Add>\n                                                        </mui.IconButton>\n                                                    </mui.Typography>\n                                                    {user.todos.length > 0 ? (\n                                                        <mui.List className=\"mb-4\">\n                                                            {Array.from(user.todos)\n                                                                .reverse()\n                                                                .map((todo) => (\n                                                                    <mui.ListItem\n                                                                        className=\"px-3\"\n                                                                        key={todo.id}\n                                                                        secondaryAction={\n                                                                            <>\n                                                                                <mui.IconButton\n                                                                                    onClick={(e) => {\n                                                                                        onDeleteTodo(e, todo.id);\n                                                                                    }}\n                                                                                    disabled={disabled}\n                                                                                    edge=\"end\"\n                                                                                    aria-label=\"delete todo\"\n                                                                                >\n                                                                                    <icon.Delete />\n                                                                                </mui.IconButton>\n                                                                            </>\n                                                                        }\n                                                                        disablePadding\n                                                                    >\n                                                                        <mui.ListItemIcon style={{ minWidth: 'unset' }}>\n                                                                            <mui.Checkbox\n                                                                                edge=\"start\"\n                                                                                disabled={disabled}\n                                                                                onChange={(e) => {\n                                                                                    onDoUndoTodo(e, todo);\n                                                                                }}\n                                                                                checked={todo.done}\n                                                                                tabIndex={-1}\n                                                                            />\n                                                                        </mui.ListItemIcon>\n                                                                        <mui.TextField\n                                                                            multiline\n                                                                            className=\"todo-text\"\n                                                                            onChange={(e) => {\n                                                                                onSetTextTodo(e, todo);\n                                                                            }}\n                                                                            style={{ width: 'calc(100% - 86px)' }}\n                                                                            variant=\"standard\"\n                                                                            value={todo.text}\n                                                                            label=\"todo\"\n                                                                        />\n                                                                    </mui.ListItem>\n                                                                ))}\n                                                        </mui.List>\n                                                    ) : (\n                                                        <div className=\"mb-5 mt-3\">No todos yet</div>\n                                                    )}\n                                                </mui.CardContent>\n                                            </mui.Paper>\n                                        </div>\n                                    ))\n                                ) : (\n                                    <div className=\"d-flex justify-content-center align-items-center\" style={{ width: '100%' }}>\n                                        <mui.CardContent style={{ padding: 16 }}>\n                                            <span>No users yet</span>\n                                        </mui.CardContent>\n                                    </div>\n                                )\n                            ) : (\n                                <div className=\"d-flex justify-content-center align-items-center\" style={{ width: '100%' }}>\n                                    <mui.CardContent style={{ padding: 16 }}>\n                                        <div className=\"spinner-border\" role=\"status\">\n                                            <span className=\"visually-hidden\">Loading...</span>\n                                        </div>\n                                    </mui.CardContent>\n                                </div>\n                            )}\n                        </div>\n                    </>\n                ) : (\n                    <mui.Alert\n                        severity=\"error\"\n                        action={\n                            <mui.Button disabled={refreshDisabled} onClick={reload} color=\"inherit\" size=\"small\">\n                                Refresh\n                            </mui.Button>\n                        }\n                    >\n                        {errLoad}\n                    </mui.Alert>\n                )}\n            </div>\n        </StyleRoot>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}